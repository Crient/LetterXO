@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'Jane Austen';
  src: url('./assets/fonts/JaneAust.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Alte Haas Grotesk';
  src: url('./assets/fonts/AlteHaasGroteskRegular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Alte Haas Grotesk';
  src: url('./assets/fonts/AlteHaasGroteskBold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

:root {
  color-scheme: light;
  --valentine-deep: 350 65% 45%;
}

body {
  margin: 0;
  font-family: 'Alte Haas Grotesk', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
    sans-serif;
  background: linear-gradient(180deg, #fde9ef 0%, #f178a1 100%);
  min-height: 100vh;
}

.font-cursive {
  font-family: 'Jane Austen', 'Brush Script MT', 'Segoe Script', 'Bradley Hand', cursive;
}

.valentine-title {
  font-family: 'Dancing Script', 'Jane Austen', 'Brush Script MT', 'Segoe Script', 'Bradley Hand', cursive;
  color: hsl(var(--valentine-deep));
  font-weight: 700;
}

.torn-edge {
  clip-path: polygon(
    2% 0%, 8% 1%, 14% 0%, 20% 2%, 26% 0%, 32% 2%, 38% 0%, 44% 2%,
    50% 0%, 56% 2%, 62% 0%, 68% 2%, 74% 0%, 80% 2%, 86% 0%, 92% 1%, 98% 0%,
    100% 2%, 99% 8%, 100% 14%, 98% 20%, 100% 26%, 98% 32%, 100% 38%, 98% 44%,
    100% 50%, 98% 56%, 100% 62%, 98% 68%, 100% 74%, 98% 80%, 100% 86%, 99% 92%, 100% 98%,
    98% 100%, 92% 99%, 86% 100%, 80% 98%, 74% 100%, 68% 98%, 62% 100%, 56% 98%,
    50% 100%, 44% 98%, 38% 100%, 32% 98%, 26% 100%, 20% 98%, 14% 100%, 8% 99%, 2% 100%,
    0% 98%, 1% 92%, 0% 86%, 2% 80%, 0% 74%, 2% 68%, 0% 62%, 2% 56%,
    0% 50%, 2% 44%, 0% 38%, 2% 32%, 0% 26%, 2% 20%, 0% 14%, 1% 8%, 0% 2%
  );
}

.torn-paper-shadow {
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.18), 0 14px 28px rgba(0, 0, 0, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

.confetti-piece {
  width: 10px;
  height: 16px;
  border-radius: 3px;
  opacity: 0;
  transform: translate3d(0, -20vh, 0);
  will-change: transform, opacity;
}

.animate-confetti {
  animation-fill-mode: both;
}

.scrollbar-hidden {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}

.envelope-3d {
  perspective: 800px;
}

.flap {
  transform-origin: top;
  transform-style: preserve-3d;
}

@keyframes letterFloat {
  0%,
  100% {
    transform: translateY(-6px);
  }
  50% {
    transform: translateY(6px);
  }
}

.letter-float {
  animation: letterFloat 4s ease-in-out infinite;
}

@keyframes envelopeFloat {
  0%,
  100% {
    transform: translateY(-6px) rotate(-5deg);
  }
  50% {
    transform: translateY(6px) rotate(-5deg);
  }
}

.envelope-float {
  animation: envelopeFloat 4.5s ease-in-out infinite;
}

.envelope-tilt {
  transform: rotate(-5deg);
}

@keyframes pageSwingEnter {
  0% {
    transform: translateX(calc(-1 * var(--swing-distance, 100vw) - 50%));
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes pageSwingExit {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(calc(var(--swing-distance, 100vw) + 50%));
  }
}

.page-swing-stage {
  display: grid;
  position: relative;
}

.page-swing-layer {
  grid-area: 1 / 1;
  will-change: transform;
}

.page-swing-enter {
  animation: pageSwingEnter var(--swing-duration, 900ms) cubic-bezier(0.22, 0.61, 0.36, 1) both;
}

.page-swing-exit {
  animation: pageSwingExit var(--swing-duration, 900ms) cubic-bezier(0.22, 0.61, 0.36, 1) both;
  pointer-events: none;
}

.spam-reminder {
  animation: spamFloat 2.8s ease-in-out infinite;
}

@keyframes spamFloat {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
  100% {
    transform: translateY(0);
  }
}


@keyframes heartBeat {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  18% {
    transform: translateY(-6px) scale(1.08);
  }
  36% {
    transform: translateY(0) scale(1);
  }
  54% {
    transform: translateY(-3px) scale(1.04);
  }
  70% {
    transform: translateY(0) scale(1);
  }
}

.heart-beat {
  animation: heartBeat 1.8s ease-in-out infinite;
  transform-origin: center;
  will-change: transform;
}

.heart-beat--one {
  animation-delay: 0s;
}

.heart-beat--two {
  animation-delay: 0.22s;
}

.heart-beat--three {
  animation-delay: 0.44s;
}

.no-button-move {
  transition: left 420ms cubic-bezier(0.22, 0.61, 0.36, 1), top 420ms cubic-bezier(0.22, 0.61, 0.36, 1);
}

@media (prefers-reduced-motion: reduce) {
  .page-swing-enter,
  .page-swing-exit,
  .heart-beat {
    animation: none;
  }
}
